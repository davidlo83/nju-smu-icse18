%Problem with Bug, Need for bug localization
An active software project often receives numerous bug reports daily~\cite{AnvikHM05}. To resolve each report, developers often need to spend much time and effort~\cite{Tassey02}. One main task that developers need to do during debugging is to identify code that needs to be fixed to resolve the bug. This task, often referred to as {\em bug localization}, is a non-trivial one as relevant files need to be identified out of a collection of hundreds or even thousands of files.

%Existing work on bug localization, Recent trend on supervised bug localization (IJCAI16,17)
To help developers in locating bugs, various automated solutions have been proposed~\cite{JonesH05,lukins2008source,rao2011retrieval,SahaLKP14,huo2016learning}. Many of them analyze the description of a bug report to identify source code files relevant to it~\cite{lukins2008source,rao2011retrieval,SahaLKP14,huo2016learning}. These text-based solutions can be further divided into two families: unsupervised and supervised. Unsupervised solutions, which were historically proposed first, typically employ information retrieval techniques to identify files that contain many of the words that appear in the bug report~\cite{lukins2008source,rao2011retrieval,SahaLKP14}. More recently, supervised approaches are introduced~\cite{huo2016learning}. These approaches use a collection of bug reports and their relevant source code files as training data. This data is then used to learn a good model that can map new bug reports to their respective relevant source code files. Supervised approaches have been shown to be superior than unsupervised ones.

%Limitation with supervised - cold start problem, no data.
One limitation of a supervised approach is the need for sufficient good quality training data. Insufficient or low quality data can be detrimental to its effectiveness. This problem is particularly important when a bug localization approach needs to be applied to new projects with limited bug fixing history. Unfortunately, this issue, often referred to as the {\em cold-start problem}, has not been explored much by past supervised bug localization studies.

%Our approach
To address the above mentioned limitation, in this work we propose {\em Deep Transfer Bug Localization} (DTBL) task. DTBL deals with cold-start problem affecting a target software project by adapting data from other projects. We propose the first DTBL solution, namely \TRANPCNN, which combines deep and transfer learning to address the cold-start problem. \dl{Please add brief description of the approach.} The DTBL model firstly employs transferable feature extraction layers to extract semantic features of bug reports and source code from both source and target projects, and then heterogeneous predicting adaptation layers are applied to learn prediction function for source project data and target data separately.  

\ml{Changed to the model name to TRANP-CNN}

%Novelty over prior work (TCA+, etc.)
There have been a number of transfer learning solutions designed to help with cold-start problem in software engineering context. For example, Turhan et al.~\cite{TurhanMBS09} proposed Burak Filter to select  k nearest instances from source domain similar to the target domain to build training models. Another transfer approach TCA was proposed by Nam et al.~\cite{Nam2013transfer}, which maps source and target domain data into a same feature space to overcome the different data distribution problem in cross-project tasks. Our approach is unique from previous solutions in the following ways. First, TRANP-CNN employs two convolutional neural network to extract semantic features for bug localization; Second, TRANP-CNN employs transferable feature extraction layers to improve bug localization performance; Third, TRANP-CNN can fully exploit the advantage in using the labeled data from target project, while TCA only uses the distribution of target domain for transfer task. In addition, NP-CNN proposed by Huo et al.~\cite{huo2016learning} has shown good performance in bug localization by introducing particular framework to learn unified features from bug reports and source code. TRANP-CNN is unique from NPCNN in the way that TRANP-CNN employs heterogeneous predicting adaptation layers to apply two fully-connected network to train predictors separately from source project and target projects, which enjoy the advantage in extracting the high-level semantic features with the same deep model and training the prediction networks using different models to overcome the inconsistency data distribution. \dl{Please compare the approach with existing work and highlight its novelty.}

%Experiment results
\dl{Please add brief description of the results.}
We have evaluated our proposed solution on 6 tasks from several open source projects. The experiment results first highlight the need for DBTL as existing solutions cannot effectively make use of data from other projects to create a model that can accurately locate bug in a target project (given a bug reports). The experiments results also show that our proposed DTBL model \TRANPCNN outperforms previous state-of-the-art bug localization methods on all 6 tasks in terms of all evaluation metrics. In addition, the experiments have highlight the effectiveness of heterogeneous predicting adaptation layers, which is the key part of \TRANPCNN.

%List of contributions
Our contributions are as follows:

\begin{enumerate}

\item We present a new direction of research on cross-project bug localization. We highlight that existing supervised bug localization techniques are not able to perform well when they are are trained using data from other projects. 
    
\item \dl{Please add very brief description of the approach highlighting its novelty.} We propose a deep transfer learning model named \TRANPCNN that employs programming language specific convolutional neural network to extract transferable semantic features, and a novel heterogeneous predicting adaptation layers are designed to improve cross-project bug localization performance.  

\item \dl{Please add very brief description of the results.} We have evaluated our proposed approach on several open source projects. The results show that the \TRANPCNN model significantly improve the performance on all 6 tasks in terms of Top-k rank, MAP and MRR metrics. 


\end{enumerate}

%Structure of the paper
The structure of the remainder of this paper is as follows. In Section~\ref{sec.background} we summarize the state-of-the-art work on supervised bug localization that our approach builds upon. We elaborate the details of our approach in Section~\ref{sec.approach}. The results of the evaluation of the approach are presented in Section~\ref{sec.exp}. We discuss pertinent points and threats to validity in Section~\ref{sec.discuss}. We describe related work in Section~\ref{sec.related}, before concluding and mentioning future work in Section~\ref{sec.conclusion}. 